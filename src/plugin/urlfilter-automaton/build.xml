<?xml version="1.0"?>

<project name="urlfilter-automaton" default="jar-core">

  <import file="../build-plugin.xml"/>

  <!-- Build compilation dependencies -->
  <target name="deps-jar">
    <ant target="jar" inheritall="false" dir="../lib-regex-filter"/>
    <ant target="compile-test" inheritall="false" dir="../lib-regex-filter"/>
  </target>

  <!-- Add compilation dependencies to classpath -->
  <path id="plugin.deps">
    <fileset dir="${nutch.root}/build">
      <include name="**/lib-regex-filter/*.jar" />
    </fileset>
    <pathelement location="${nutch.root}/build/lib-regex-filter/test"/>
  </path>

  <!-- Deploy Unit test dependencies -->
  <target name="deps-test">
    <ant target="deploy" inheritall="false" dir="../lib-regex-filter"/>
  </target>

  <!-- for junit test -->
  <mkdir dir="${build.test}/data"/>
  <copy todir="${build.test}/data">
    <fileset dir="sample" includes="**/*.rules, **/*.urls"/>
  </copy>

</project>
